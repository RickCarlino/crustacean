<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular.min.js"></script>
  <script type="text/javascript" src="js/browser.js"></script>
</head>
<body ng-app='crustacean'>
  <div ng-controller='newTopicController as ctrl'>
    <h1>
      {{ctrl.topic.name}}
      <button ng-click="ctrl.setTitle()">Edit Name</button>
      <button ng-click="ctrl.create()">Save</button>
    </h1>
    <h2>
      Questions
      <button ng-click='ctrl.setQuestion()'>Add New Question</button>
    </h2>
    <div ng-repeat="(main_q, counter_q) in ctrl.topic.questions">
      <h3>
        {{ main_q }}
        <button ng-click="ctrl.topic.removeQuestion(main_q)">
          X
        </button>
        <button ng-click="ctrl.insertPrompt(main_q)">
          Add Reviewable Questions
        </button>
      </h3>
      <ul ng-repeat="quest in counter_q">
        <li>
          {{ quest }}
          <button ng-click='ctrl.topic.removePrompt(main_q, quest)'>
            X
          </button>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>